# Test Caddyfile for localhost testing
localhost:8080 {
    reverse_proxy app:8080
    
    # Security headers
    header {
        X-Content-Type-Options nosniff
        X-Frame-Options DENY
        X-XSS-Protection "1; mode=block"
    }
    
    # CORS for API
    @api {
        path /api/*
    }
    header @api Access-Control-Allow-Origin "*"
    header @api Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
    header @api Access-Control-Allow-Headers "Content-Type, Authorization"
    
    # Handle preflight requests
    @options {
        method OPTIONS
    }
    respond @options 200
}
