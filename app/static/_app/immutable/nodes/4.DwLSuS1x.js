import{S as lt,i as nt,s as rt,a as ze,d as pe,t as W,b as U,m as ge,c as be,e as $e,f as Ze,g as pt,u as gt,h as bt,j as $t,k as v,G as st,o as Ce,p as t,N as Le,B as o,C as It,w as $,q as i,r as h,D as G,v as j,z as k,x as c,y as K,E as wt,O as kt,l as fe,P as Nt,F as at,n as Ye}from"../chunks/Di08Ikp8.js";import{I as Dt,g as Ct,a as Et,e as ft,u as Vt,o as St}from"../chunks/ByAa4zXX.js";import"../chunks/IHki7fMi.js";import{P as qt}from"../chunks/BTYUofy0.js";import{S as Tt}from"../chunks/CQ_tZPUA.js";function At(u){let e;const s=u[2].default,a=pt(s,u,u[3],null);return{c(){a&&a.c()},l(n){a&&a.l(n)},m(n,l){a&&a.m(n,l),e=!0},p(n,l){a&&a.p&&(!e||l&8)&&gt(a,s,n,n[3],e?$t(s,n[3],l,null):bt(n[3]),null)},i(n){e||(U(a,n),e=!0)},o(n){W(a,n),e=!1},d(n){a&&a.d(n)}}}function Mt(u){let e,s;const a=[{name:"check-circle"},u[1],{iconNode:u[0]}];let n={$$slots:{default:[At]},$$scope:{ctx:u}};for(let l=0;l<a.length;l+=1)n=ze(n,a[l]);return e=new Dt({props:n}),{c(){$e(e.$$.fragment)},l(l){be(e.$$.fragment,l)},m(l,r){ge(e,l,r),s=!0},p(l,[r]){const b=r&3?Ct(a,[a[0],r&2&&Et(l[1]),r&1&&{iconNode:l[0]}]):{};r&8&&(b.$$scope={dirty:r,ctx:l}),e.$set(b)},i(l){s||(U(e.$$.fragment,l),s=!0)},o(l){W(e.$$.fragment,l),s=!1},d(l){pe(e,l)}}}function Pt(u,e,s){let{$$slots:a={},$$scope:n}=e;const l=[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}],["path",{d:"m9 11 3 3L22 4"}]];return u.$$set=r=>{s(1,e=ze(ze({},e),Ze(r))),"$$scope"in r&&s(3,n=r.$$scope)},e=Ze(e),[l,e,a,n]}class Xe extends lt{constructor(e){super(),nt(this,e,Pt,Mt,rt,{})}}function Ot(u){let e;const s=u[2].default,a=pt(s,u,u[3],null);return{c(){a&&a.c()},l(n){a&&a.l(n)},m(n,l){a&&a.m(n,l),e=!0},p(n,l){a&&a.p&&(!e||l&8)&&gt(a,s,n,n[3],e?$t(s,n[3],l,null):bt(n[3]),null)},i(n){e||(U(a,n),e=!0)},o(n){W(a,n),e=!1},d(n){a&&a.d(n)}}}function yt(u){let e,s;const a=[{name:"refresh-cw"},u[1],{iconNode:u[0]}];let n={$$slots:{default:[Ot]},$$scope:{ctx:u}};for(let l=0;l<a.length;l+=1)n=ze(n,a[l]);return e=new Dt({props:n}),{c(){$e(e.$$.fragment)},l(l){be(e.$$.fragment,l)},m(l,r){ge(e,l,r),s=!0},p(l,[r]){const b=r&3?Ct(a,[a[0],r&2&&Et(l[1]),r&1&&{iconNode:l[0]}]):{};r&8&&(b.$$scope={dirty:r,ctx:l}),e.$set(b)},i(l){s||(U(e.$$.fragment,l),s=!0)},o(l){W(e.$$.fragment,l),s=!1},d(l){pe(e,l)}}}function Rt(u,e,s){let{$$slots:a={},$$scope:n}=e;const l=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]];return u.$$set=r=>{s(1,e=ze(ze({},e),Ze(r))),"$$scope"in r&&s(3,n=r.$$scope)},e=Ze(e),[l,e,a,n]}class Ft extends lt{constructor(e){super(),nt(this,e,Rt,yt,rt,{})}}function vt(u,e,s){const a=u.slice();return a[15]=e[s],a}function Ht(u){const e=u.slice(),s=e[1][e[15].id];return e[18]=s,e}function _t(u){let e,s,a="Add New Domain",n,l,r,b='<label for="domain" class="form-label">Domain Name</label> <input type="text" id="domain" name="domain" class="form-input" placeholder="news.example.com" required=""/>',S,D,m,I="Cancel",P,T,w=u[3]?"Adding...":"Add Domain",A,p,d;return{c(){e=c("div"),s=c("h3"),s.textContent=a,n=k(),l=c("form"),r=c("div"),r.innerHTML=b,S=k(),D=c("div"),m=c("button"),m.textContent=I,P=k(),T=c("button"),A=K(w),this.h()},l(f){e=i(f,"DIV",{class:!0});var C=h(e);s=i(C,"H3",{"data-svelte-h":!0}),G(s)!=="svelte-44koaj"&&(s.textContent=a),n=$(C),l=i(C,"FORM",{});var H=h(l);r=i(H,"DIV",{class:!0,"data-svelte-h":!0}),G(r)!=="svelte-1p70j4q"&&(r.innerHTML=b),S=$(H),D=i(H,"DIV",{class:!0});var y=h(D);m=i(y,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),G(m)!=="svelte-6g071m"&&(m.textContent=I),P=$(y),T=i(y,"BUTTON",{type:!0,class:!0});var M=h(T);A=j(M,w),M.forEach(v),y.forEach(v),H.forEach(v),C.forEach(v),this.h()},h(){o(r,"class","form-group"),o(m,"type","button"),o(m,"class","btn btn-secondary"),o(T,"type","submit"),o(T,"class","btn btn-primary"),T.disabled=u[3],o(D,"class","card-footer"),o(e,"class","card")},m(f,C){Ce(f,e,C),t(e,s),t(e,n),t(e,l),t(l,r),t(l,S),t(l,D),t(D,m),t(D,P),t(D,T),t(T,A),p||(d=[Le(m,"click",u[8]),Le(l,"submit",Nt(u[9]))],p=!0)},p(f,C){C&8&&w!==(w=f[3]?"Adding...":"Add Domain")&&fe(A,w),C&8&&(T.disabled=f[3])},d(f){f&&v(e),p=!1,kt(d)}}}function zt(u){let e,s='<div class="spinner"></div> <span>Checking domain status...</span>';return{c(){e=c("div"),e.innerHTML=s,this.h()},l(a){e=i(a,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-1vhsmgu"&&(e.innerHTML=s),this.h()},h(){o(e,"class","loading svelte-q1vrrs")},m(a,n){Ce(a,e,n)},p:Ye,i:Ye,o:Ye,d(a){a&&v(e)}}}function Lt(u){let e,s,a,n,l,r,b="SPF",S,D,m=u[18].spf.status+"",I,P,T,w,A,p,d,f,C="DKIM",H,y,M=u[18].dkim.status+"",N,ee,_e,g,_,E,z,L,te="DMARC",oe,X,B=u[18].dmarc.status+"",ie,Ie,we,J,x,ce,Ne,de,Ve="PTR",Se,Y,se=u[18].ptr.status+"",Te,Ee,ue,ae,le,Ae="Overall Status:",Me,Z,ne=u[18].overall+"",Pe,qe,R;return n=new Xe({props:{size:16}}),p=new Xe({props:{size:16}}),E=new Xe({props:{size:16}}),ce=new Xe({props:{size:16}}),{c(){e=c("div"),s=c("div"),a=c("div"),$e(n.$$.fragment),l=k(),r=c("span"),r.textContent=b,S=k(),D=c("span"),I=K(m),T=k(),w=c("div"),A=c("div"),$e(p.$$.fragment),d=k(),f=c("span"),f.textContent=C,H=k(),y=c("span"),N=K(M),_e=k(),g=c("div"),_=c("div"),$e(E.$$.fragment),z=k(),L=c("span"),L.textContent=te,oe=k(),X=c("span"),ie=K(B),we=k(),J=c("div"),x=c("div"),$e(ce.$$.fragment),Ne=k(),de=c("span"),de.textContent=Ve,Se=k(),Y=c("span"),Te=K(se),ue=k(),ae=c("div"),le=c("span"),le.textContent=Ae,Me=k(),Z=c("span"),Pe=K(ne),this.h()},l(q){e=i(q,"DIV",{class:!0});var V=h(e);s=i(V,"DIV",{class:!0});var ke=h(s);a=i(ke,"DIV",{class:!0});var Q=h(a);be(n.$$.fragment,Q),l=$(Q),r=i(Q,"SPAN",{"data-svelte-h":!0}),G(r)!=="svelte-1h3d3s7"&&(r.textContent=b),Q.forEach(v),S=$(ke),D=i(ke,"SPAN",{class:!0});var Fe=h(D);I=j(Fe,m),Fe.forEach(v),ke.forEach(v),T=$(V),w=i(V,"DIV",{class:!0});var Oe=h(w);A=i(Oe,"DIV",{class:!0});var He=h(A);be(p.$$.fragment,He),d=$(He),f=i(He,"SPAN",{"data-svelte-h":!0}),G(f)!=="svelte-1d2t045"&&(f.textContent=C),He.forEach(v),H=$(Oe),y=i(Oe,"SPAN",{class:!0});var Ke=h(y);N=j(Ke,M),Ke.forEach(v),Oe.forEach(v),_e=$(V),g=i(V,"DIV",{class:!0});var ye=h(g);_=i(ye,"DIV",{class:!0});var re=h(_);be(E.$$.fragment,re),z=$(re),L=i(re,"SPAN",{"data-svelte-h":!0}),G(L)!=="svelte-1lo7vdp"&&(L.textContent=te),re.forEach(v),oe=$(ye),X=i(ye,"SPAN",{class:!0});var je=h(X);ie=j(je,B),je.forEach(v),ye.forEach(v),we=$(V),J=i(V,"DIV",{class:!0});var De=h(J);x=i(De,"DIV",{class:!0});var F=h(x);be(ce.$$.fragment,F),Ne=$(F),de=i(F,"SPAN",{"data-svelte-h":!0}),G(de)!=="svelte-s68k1g"&&(de.textContent=Ve),F.forEach(v),Se=$(De),Y=i(De,"SPAN",{class:!0});var O=h(Y);Te=j(O,se),O.forEach(v),De.forEach(v),V.forEach(v),ue=$(q),ae=i(q,"DIV",{class:!0});var ve=h(ae);le=i(ve,"SPAN",{class:!0,"data-svelte-h":!0}),G(le)!=="svelte-ce44cv"&&(le.textContent=Ae),Me=$(ve),Z=i(ve,"SPAN",{class:!0});var Re=h(Z);Pe=j(Re,ne),Re.forEach(v),ve.forEach(v),this.h()},h(){o(a,"class","status-header svelte-q1vrrs"),o(D,"class",P="badge badge-"+me(u[18].spf.status)+" svelte-q1vrrs"),o(s,"class","status-item svelte-q1vrrs"),o(A,"class","status-header svelte-q1vrrs"),o(y,"class",ee="badge badge-"+me(u[18].dkim.status)+" svelte-q1vrrs"),o(w,"class","status-item svelte-q1vrrs"),o(_,"class","status-header svelte-q1vrrs"),o(X,"class",Ie="badge badge-"+me(u[18].dmarc.status)+" svelte-q1vrrs"),o(g,"class","status-item svelte-q1vrrs"),o(x,"class","status-header svelte-q1vrrs"),o(Y,"class",Ee="badge badge-"+me(u[18].ptr.status)+" svelte-q1vrrs"),o(J,"class","status-item svelte-q1vrrs"),o(e,"class","status-grid svelte-q1vrrs"),o(le,"class","status-label svelte-q1vrrs"),o(Z,"class",qe="badge badge-"+me(u[18].overall)+" svelte-q1vrrs"),o(ae,"class","overall-status svelte-q1vrrs")},m(q,V){Ce(q,e,V),t(e,s),t(s,a),ge(n,a,null),t(a,l),t(a,r),t(s,S),t(s,D),t(D,I),t(e,T),t(e,w),t(w,A),ge(p,A,null),t(A,d),t(A,f),t(w,H),t(w,y),t(y,N),t(e,_e),t(e,g),t(g,_),ge(E,_,null),t(_,z),t(_,L),t(g,oe),t(g,X),t(X,ie),t(e,we),t(e,J),t(J,x),ge(ce,x,null),t(x,Ne),t(x,de),t(J,Se),t(J,Y),t(Y,Te),Ce(q,ue,V),Ce(q,ae,V),t(ae,le),t(ae,Me),t(ae,Z),t(Z,Pe),R=!0},p(q,V){(!R||V&3)&&m!==(m=q[18].spf.status+"")&&fe(I,m),(!R||V&3&&P!==(P="badge badge-"+me(q[18].spf.status)+" svelte-q1vrrs"))&&o(D,"class",P),(!R||V&3)&&M!==(M=q[18].dkim.status+"")&&fe(N,M),(!R||V&3&&ee!==(ee="badge badge-"+me(q[18].dkim.status)+" svelte-q1vrrs"))&&o(y,"class",ee),(!R||V&3)&&B!==(B=q[18].dmarc.status+"")&&fe(ie,B),(!R||V&3&&Ie!==(Ie="badge badge-"+me(q[18].dmarc.status)+" svelte-q1vrrs"))&&o(X,"class",Ie),(!R||V&3)&&se!==(se=q[18].ptr.status+"")&&fe(Te,se),(!R||V&3&&Ee!==(Ee="badge badge-"+me(q[18].ptr.status)+" svelte-q1vrrs"))&&o(Y,"class",Ee),(!R||V&3)&&ne!==(ne=q[18].overall+"")&&fe(Pe,ne),(!R||V&3&&qe!==(qe="badge badge-"+me(q[18].overall)+" svelte-q1vrrs"))&&o(Z,"class",qe)},i(q){R||(U(n.$$.fragment,q),U(p.$$.fragment,q),U(E.$$.fragment,q),U(ce.$$.fragment,q),R=!0)},o(q){W(n.$$.fragment,q),W(p.$$.fragment,q),W(E.$$.fragment,q),W(ce.$$.fragment,q),R=!1},d(q){q&&(v(e),v(ue),v(ae)),pe(n),pe(p),pe(E),pe(ce)}}}function ht(u,e){let s,a,n,l,r=e[15].domain+"",b,S,D,m,I,P,T,w,A,p,d,f,C,H,y,M,N,ee="DNS Records",_e,g,_,E="SPF:",z,L,te=e[15].spf_record+"",oe,X,B,ie,Ie="DKIM:",we,J,x=e[15].dkim_selector+"",ce,Ne,de=e[15].domain+"",Ve,Se,Y,se,Te="DMARC:",Ee,ue,ae,le=e[15].domain+"",Ae,Me,Z,ne,Pe="PTR:",qe,R,q,V=e[15].domain+"",ke,Q,Fe,Oe;I=new Ft({props:{size:14}});function He(){return e[10](e[15])}function Ke(){return e[11](e[15])}const ye=[Lt,zt],re=[];function je(F,O){return F[1][F[15].id]?0:1}function De(F,O){return O===0?Ht(F):F}return f=je(e),C=re[f]=ye[f](De(e,f)),{key:u,first:null,c(){s=c("div"),a=c("div"),n=c("div"),l=c("h3"),b=K(r),S=k(),D=c("div"),m=c("button"),$e(I.$$.fragment),P=K(`
									Refresh`),T=k(),w=c("button"),A=K("Rotate DKIM"),p=k(),d=c("div"),C.c(),H=k(),y=c("div"),M=c("div"),N=c("h4"),N.textContent=ee,_e=k(),g=c("div"),_=c("strong"),_.textContent=E,z=k(),L=c("code"),oe=K(te),X=k(),B=c("div"),ie=c("strong"),ie.textContent=Ie,we=k(),J=c("code"),ce=K(x),Ne=K("._domainkey."),Ve=K(de),Se=k(),Y=c("div"),se=c("strong"),se.textContent=Te,Ee=k(),ue=c("code"),ae=K("_dmarc."),Ae=K(le),Me=k(),Z=c("div"),ne=c("strong"),ne.textContent=Pe,qe=k(),R=c("code"),q=K("mail."),ke=K(V),this.h()},l(F){s=i(F,"DIV",{class:!0});var O=h(s);a=i(O,"DIV",{class:!0});var ve=h(a);n=i(ve,"DIV",{class:!0});var Re=h(n);l=i(Re,"H3",{class:!0});var ot=h(l);b=j(ot,r),ot.forEach(v),S=$(Re),D=i(Re,"DIV",{class:!0});var Be=h(D);m=i(Be,"BUTTON",{class:!0});var xe=h(m);be(I.$$.fragment,xe),P=j(xe,`
									Refresh`),xe.forEach(v),T=$(Be),w=i(Be,"BUTTON",{class:!0});var it=h(w);A=j(it,"Rotate DKIM"),it.forEach(v),Be.forEach(v),Re.forEach(v),ve.forEach(v),p=$(O),d=i(O,"DIV",{class:!0});var ct=h(d);C.l(ct),ct.forEach(v),H=$(O),y=i(O,"DIV",{class:!0});var dt=h(y);M=i(dt,"DIV",{class:!0});var he=h(M);N=i(he,"H4",{class:!0,"data-svelte-h":!0}),G(N)!=="svelte-1t1bkhh"&&(N.textContent=ee),_e=$(he),g=i(he,"DIV",{class:!0});var Ue=h(g);_=i(Ue,"STRONG",{class:!0,"data-svelte-h":!0}),G(_)!=="svelte-1qw1chj"&&(_.textContent=E),z=$(Ue),L=i(Ue,"CODE",{class:!0});var ut=h(L);oe=j(ut,te),ut.forEach(v),Ue.forEach(v),X=$(he),B=i(he,"DIV",{class:!0});var Ge=h(B);ie=i(Ge,"STRONG",{class:!0,"data-svelte-h":!0}),G(ie)!=="svelte-185fhfz"&&(ie.textContent=Ie),we=$(Ge),J=i(Ge,"CODE",{class:!0});var Je=h(J);ce=j(Je,x),Ne=j(Je,"._domainkey."),Ve=j(Je,de),Je.forEach(v),Ge.forEach(v),Se=$(he),Y=i(he,"DIV",{class:!0});var Qe=h(Y);se=i(Qe,"STRONG",{class:!0,"data-svelte-h":!0}),G(se)!=="svelte-170d5tl"&&(se.textContent=Te),Ee=$(Qe),ue=i(Qe,"CODE",{class:!0});var et=h(ue);ae=j(et,"_dmarc."),Ae=j(et,le),et.forEach(v),Qe.forEach(v),Me=$(he),Z=i(he,"DIV",{class:!0});var We=h(Z);ne=i(We,"STRONG",{class:!0,"data-svelte-h":!0}),G(ne)!=="svelte-1kindn8"&&(ne.textContent=Pe),qe=$(We),R=i(We,"CODE",{class:!0});var tt=h(R);q=j(tt,"mail."),ke=j(tt,V),tt.forEach(v),We.forEach(v),he.forEach(v),dt.forEach(v),O.forEach(v),this.h()},h(){o(l,"class","card-title"),o(m,"class","btn btn-secondary btn-sm"),m.disabled=e[3],o(w,"class","btn btn-secondary btn-sm"),w.disabled=e[3],o(D,"class","domain-actions svelte-q1vrrs"),o(n,"class","domain-header svelte-q1vrrs"),o(a,"class","card-header"),o(d,"class","card-body"),o(N,"class","svelte-q1vrrs"),o(_,"class","svelte-q1vrrs"),o(L,"class","svelte-q1vrrs"),o(g,"class","record svelte-q1vrrs"),o(ie,"class","svelte-q1vrrs"),o(J,"class","svelte-q1vrrs"),o(B,"class","record svelte-q1vrrs"),o(se,"class","svelte-q1vrrs"),o(ue,"class","svelte-q1vrrs"),o(Y,"class","record svelte-q1vrrs"),o(ne,"class","svelte-q1vrrs"),o(R,"class","svelte-q1vrrs"),o(Z,"class","record svelte-q1vrrs"),o(M,"class","dns-records svelte-q1vrrs"),o(y,"class","card-footer"),o(s,"class","card"),this.first=s},m(F,O){Ce(F,s,O),t(s,a),t(a,n),t(n,l),t(l,b),t(n,S),t(n,D),t(D,m),ge(I,m,null),t(m,P),t(D,T),t(D,w),t(w,A),t(s,p),t(s,d),re[f].m(d,null),t(s,H),t(s,y),t(y,M),t(M,N),t(M,_e),t(M,g),t(g,_),t(g,z),t(g,L),t(L,oe),t(M,X),t(M,B),t(B,ie),t(B,we),t(B,J),t(J,ce),t(J,Ne),t(J,Ve),t(M,Se),t(M,Y),t(Y,se),t(Y,Ee),t(Y,ue),t(ue,ae),t(ue,Ae),t(M,Me),t(M,Z),t(Z,ne),t(Z,qe),t(Z,R),t(R,q),t(R,ke),Q=!0,Fe||(Oe=[Le(m,"click",He),Le(w,"click",Ke)],Fe=!0)},p(F,O){e=F,(!Q||O&1)&&r!==(r=e[15].domain+"")&&fe(b,r),(!Q||O&8)&&(m.disabled=e[3]),(!Q||O&8)&&(w.disabled=e[3]);let ve=f;f=je(e),f===ve?re[f].p(De(e,f),O):(at(),W(re[ve],1,1,()=>{re[ve]=null}),st(),C=re[f],C?C.p(De(e,f),O):(C=re[f]=ye[f](De(e,f)),C.c()),U(C,1),C.m(d,null)),(!Q||O&1)&&te!==(te=e[15].spf_record+"")&&fe(oe,te),(!Q||O&1)&&x!==(x=e[15].dkim_selector+"")&&fe(ce,x),(!Q||O&1)&&de!==(de=e[15].domain+"")&&fe(Ve,de),(!Q||O&1)&&le!==(le=e[15].domain+"")&&fe(Ae,le),(!Q||O&1)&&V!==(V=e[15].domain+"")&&fe(ke,V)},i(F){Q||(U(I.$$.fragment,F),U(C),Q=!0)},o(F){W(I.$$.fragment,F),W(C),Q=!1},d(F){F&&v(s),pe(I),re[f].d(),Fe=!1,kt(Oe)}}}function mt(u){let e,s,a,n,l="No domains configured",r,b,S="Add your first domain to start sending newsletters.",D,m,I,P,T,w,A;return s=new Tt({props:{size:48}}),I=new qt({props:{size:16}}),{c(){e=c("div"),$e(s.$$.fragment),a=k(),n=c("h3"),n.textContent=l,r=k(),b=c("p"),b.textContent=S,D=k(),m=c("button"),$e(I.$$.fragment),P=K(`
						Add Domain`),this.h()},l(p){e=i(p,"DIV",{class:!0});var d=h(e);be(s.$$.fragment,d),a=$(d),n=i(d,"H3",{class:!0,"data-svelte-h":!0}),G(n)!=="svelte-1m8g6t0"&&(n.textContent=l),r=$(d),b=i(d,"P",{class:!0,"data-svelte-h":!0}),G(b)!=="svelte-1o0wojb"&&(b.textContent=S),D=$(d),m=i(d,"BUTTON",{class:!0});var f=h(m);be(I.$$.fragment,f),P=j(f,`
						Add Domain`),f.forEach(v),d.forEach(v),this.h()},h(){o(n,"class","svelte-q1vrrs"),o(b,"class","svelte-q1vrrs"),o(m,"class","btn btn-primary"),o(e,"class","empty-state svelte-q1vrrs")},m(p,d){Ce(p,e,d),ge(s,e,null),t(e,a),t(e,n),t(e,r),t(e,b),t(e,D),t(e,m),ge(I,m,null),t(m,P),T=!0,w||(A=Le(m,"click",u[12]),w=!0)},p:Ye,i(p){T||(U(s.$$.fragment,p),U(I.$$.fragment,p),T=!0)},o(p){W(s.$$.fragment,p),W(I.$$.fragment,p),T=!1},d(p){p&&v(e),pe(s),pe(I),w=!1,A()}}}function jt(u){let e,s,a,n='<h1>Newsletter Platform</h1> <nav class="nav"><a href="/" class="nav-link">Dashboard</a> <a href="/domains" class="nav-link active">Domains</a> <a href="/lists" class="nav-link">Lists</a> <a href="/campaigns" class="nav-link">Campaigns</a> <a href="/settings" class="nav-link">Settings</a></nav>',l,r,b,S,D="Domains",m,I,P,T,w,A,p,d=[],f=new Map,C,H,y,M;P=new qt({props:{size:16}});let N=u[2]&&_t(u),ee=ft(u[0]);const _e=_=>_[15].id;for(let _=0;_<ee.length;_+=1){let E=vt(u,ee,_),z=_e(E);f.set(z,d[_]=ht(z,E))}let g=u[0].length===0&&mt(u);return{c(){e=k(),s=c("div"),a=c("header"),a.innerHTML=n,l=k(),r=c("main"),b=c("div"),S=c("h2"),S.textContent=D,m=k(),I=c("button"),$e(P.$$.fragment),T=K(`
				Add Domain`),w=k(),N&&N.c(),A=k(),p=c("div");for(let _=0;_<d.length;_+=1)d[_].c();C=k(),g&&g.c(),this.h()},l(_){It("svelte-1fnncfw",document.head).forEach(v),e=$(_),s=i(_,"DIV",{class:!0});var z=h(s);a=i(z,"HEADER",{class:!0,"data-svelte-h":!0}),G(a)!=="svelte-ywfs9p"&&(a.innerHTML=n),l=$(z),r=i(z,"MAIN",{class:!0});var L=h(r);b=i(L,"DIV",{class:!0});var te=h(b);S=i(te,"H2",{class:!0,"data-svelte-h":!0}),G(S)!=="svelte-l19h9x"&&(S.textContent=D),m=$(te),I=i(te,"BUTTON",{class:!0});var oe=h(I);be(P.$$.fragment,oe),T=j(oe,`
				Add Domain`),oe.forEach(v),te.forEach(v),w=$(L),N&&N.l(L),A=$(L),p=i(L,"DIV",{class:!0});var X=h(p);for(let B=0;B<d.length;B+=1)d[B].l(X);C=$(X),g&&g.l(X),X.forEach(v),L.forEach(v),z.forEach(v),this.h()},h(){document.title="Domains - Newsletter Platform",o(a,"class","header"),o(S,"class","svelte-q1vrrs"),o(I,"class","btn btn-primary"),o(b,"class","page-header svelte-q1vrrs"),o(p,"class","domains-list svelte-q1vrrs"),o(r,"class","main"),o(s,"class","container")},m(_,E){Ce(_,e,E),Ce(_,s,E),t(s,a),t(s,l),t(s,r),t(r,b),t(b,S),t(b,m),t(b,I),ge(P,I,null),t(I,T),t(r,w),N&&N.m(r,null),t(r,A),t(r,p);for(let z=0;z<d.length;z+=1)d[z]&&d[z].m(p,null);t(p,C),g&&g.m(p,null),H=!0,y||(M=Le(I,"click",u[7]),y=!0)},p(_,[E]){_[2]?N?N.p(_,E):(N=_t(_),N.c(),N.m(r,A)):N&&(N.d(1),N=null),E&91&&(ee=ft(_[0]),at(),d=Vt(d,E,_e,1,_,ee,f,p,St,ht,C,vt),st()),_[0].length===0?g?(g.p(_,E),E&1&&U(g,1)):(g=mt(_),g.c(),U(g,1),g.m(p,null)):g&&(at(),W(g,1,1,()=>{g=null}),st())},i(_){if(!H){U(P.$$.fragment,_);for(let E=0;E<ee.length;E+=1)U(d[E]);U(g),H=!0}},o(_){W(P.$$.fragment,_);for(let E=0;E<d.length;E+=1)W(d[E]);W(g),H=!1},d(_){_&&(v(e),v(s)),pe(P),N&&N.d();for(let E=0;E<d.length;E+=1)d[E].d();g&&g.d(),y=!1,M()}}}function me(u){switch(u){case"pass":return"success";case"fail":return"error";case"warning":return"warning";default:return"gray"}}function Kt(u,e,s){let a=[],n={},l=!1,r=!1;wt(async()=>{await b()});async function b(){try{const d=await fetch("/api/domains");if(d.ok){const f=await d.json();s(0,a=f.data||[]);for(const C of a)await S(C.id)}}catch(d){console.error("Failed to load domains:",d)}}async function S(d){try{const f=await fetch(`/api/domains/${d}/status`);if(f.ok){const C=await f.json();s(1,n[d]=C.data,n)}}catch(f){console.error("Failed to load domain status:",f)}}async function D(d){s(3,r=!0);try{(await fetch("/api/domains",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({domain:d})})).ok?(await b(),s(2,l=!1)):alert("Failed to add domain")}catch(f){console.error("Failed to add domain:",f),alert("Failed to add domain")}finally{s(3,r=!1)}}async function m(d){s(3,r=!0);try{(await fetch(`/api/domains/${d}/dkim/rotate`,{method:"POST"})).ok?(await b(),await S(d)):alert("Failed to rotate DKIM keys")}catch(f){console.error("Failed to rotate DKIM keys:",f),alert("Failed to rotate DKIM keys")}finally{s(3,r=!1)}}return[a,n,l,r,S,D,m,()=>s(2,l=!0),()=>s(2,l=!1),async d=>{const f=d.target;if(!f)return;const H=new FormData(f).get("domain");H&&typeof H=="string"&&await D(H)},d=>S(d.id),d=>m(d.id),()=>s(2,l=!0)]}class Wt extends lt{constructor(e){super(),nt(this,e,Kt,jt,rt,{})}}export{Wt as component};
